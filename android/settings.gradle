println '@settings enter-----------------'

include ':kantvplayer-lib'
include ':kantvplayer'

gradle.ext.exoplayerRoot = settingsDir
def rootDir = gradle.ext.exoplayerRoot
println 'rootDir：' + rootDir

if (!gradle.ext.has('exoplayerSettingsDir')) {
    gradle.ext.exoplayerSettingsDir =
            new File(rootDir.toString()).getCanonicalPath()
}

gradle.addBuildListener(new BuildListener() {
    void buildStarted(Gradle var1) {
        println 'begin build'
    }
    void settingsEvaluated(Settings var1) {
        println 'settings evaluate'
    }
    void projectsLoaded(Gradle var1) {
        println 'gradle.rootProject：' + gradle.rootProject
        println 'rootDir：' + rootDir
        println 'gradle.ext.exoplayerRoot：'         +  gradle.ext.exoplayerRoot
        println 'gradle.ext.exoplayerSettingsDir：'  +  gradle.ext.exoplayerSettingsDir
    }
    void projectsEvaluated(Gradle var1) {
        println 'evaluated'
    }
    void buildFinished(BuildResult var1) {
        println 'end build'
    }
})

println '@settings leave-----------------'
